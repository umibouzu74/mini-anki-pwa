<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Mini Anki Deluxe - 031~035</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- PWA用マニフェストファイル -->
  <link rel="manifest" href="manifest.json">

  <style>
    body {
      background: #2b2b2b;
      color: #f0f0f0;
      font-family: sans-serif;
      line-height: 1.6;
      margin: 2em;
      transition: background 0.3s, color 0.3s;
    }
    h1 {
      text-align: center;
      color: #ff6b6b;
    }
    p {
      text-align: center;
      margin-bottom: 2em;
    }
    .card-container {
      max-width: 700px;
      margin: 0 auto 2em;
      border: 1px solid #444;
      border-radius: 6px;
      padding: 1em 1.5em;
      box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);
      background: #3a3a3a;
      cursor: pointer;
      transition: background 0.3s;
    }
    .card-number {
      font-weight: bold;
      font-size: 1.1em;
      color: #ff6b6b;
      margin-bottom: 0.3em;
    }
    .jp-text {
      margin-bottom: 0.8em;
      color: #f9f9f9;
    }
    .hint {
      color: #cccccc;
      display: none;
      margin-bottom: 0.8em;
    }
    .full {
      font-weight: bold;
      color: #ffffff;
      display: none;
      white-space: pre-wrap;
    }
    .card-container:hover {
      background-color: #4a4a4a;
    }
    .card-container:active {
      background-color: #555;
    }
    /* 戻るボタン */
    .nav-back {
      display: block;
      text-align: center;
      margin: 2em auto;
      color: #ff6b6b;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Cards 031 - 035</h1>
  <p>カードをタップすると「ヒント → 完全文 → 最初に戻る」と状態が変わります。</p>

  <!-- 戻るボタン -->
  <a class="nav-back" href="index.html">← ホームへ戻る</a>

  <!-- 031 -->
  <div class="card-container" onclick="cycleState(0)">
    <div class="card-number">031</div>
    <div class="jp-text">ソーシャルメディアの到来により、私たちのコミュニケーションは完全に変わってしまった。良いか悪いかはさておき、直接は知らない人が私たちに与える影響はとても大きくなった。</div>
    <div class="hint" id="hint-0">W--- the a----- of s----- m----, the w-- we c---------e h-- c------ c--------y and, l--- i- or n--, the i----t p----- we d---- k--- p---------y h--- -- us h-- b--- t--------s.</div>
    <div class="full" id="full-0">With the advent of social media, the way we communicate has changed completely and, like it or not, the impact people we don't know personally have on us has been tremendous.</div>
  </div>
  <!-- 032 -->
  <div class="card-container" onclick="cycleState(1)">
    <div class="card-number">032</div>
    <div class="jp-text">彼は見かけ上は素性をうまく隠せていたが、声でばれてしまっていた。</div>
    <div class="hint" id="hint-1">-- the s------, he m------ to h--- h-- i------y, b-- h-- v---- g--- h-- a---.</div>
    <div class="full" id="full-1">On the surface, he managed to hide his identity, but his voice gave him away.</div>
  </div>
  <!-- 033 -->
  <div class="card-container" onclick="cycleState(2)">
    <div class="card-number">033</div>
    <div class="jp-text">2年前に行ったカリキュラム改革のおかげで、大学に進学する生徒数が急激に伸びた。これは明るい知らせかもしれないが、慢心するにはまだ早い。</div>
    <div class="hint" id="hint-2">T----- t- a c--------- r----- i---------d t-- y---- a--, w- h--- s--- a s---- r--- i- the n----r of s------s w-- g- o- to c------. T--- m-- b- a c---- f-- o------m, b-- i- i- t-- e---- to g-- c---------t.</div>
    <div class="full" id="full-2">Thanks to a curriculum reform implemented two years ago, we have seen a sharp rise in the number of students who go on to college. This may be a cause for optimism, but it is too early to get complacent.</div>
  </div>
  <!-- 034 -->
  <div class="card-container" onclick="cycleState(3)">
    <div class="card-number">034</div>
    <div class="jp-text">3日間海をさまよった後、彼らはついに島らしきものを遠くに見つけ、安堵のため息をついた。</div>
    <div class="hint" id="hint-3">A---- t---- d--- a- s--, a- l---, t--- c----- s---- of w--- a------d t- b- a- i----- i- the d--------, a-- b------ a s--- of r----f.</div>
    <div class="full" id="full-3">After three days at sea, at last, they caught sight of what appeared to be an island in the distance, and breathed a sigh of relief.</div>
  </div>
  <!-- 035 -->
  <div class="card-container" onclick="cycleState(4)">
    <div class="card-number">035</div>
    <div class="jp-text">他の種と人間を区別するものは何かと問われると、人はすぐに言語のことを考える。しかし、少なくない科学者が他の種も言語のようなシステムを持っている可能性があると考えている。実際、この線に沿った数多くの研究がこれまでなされてきた。</div>
    <div class="hint" id="hint-4">W--- a---- w--- s--- us a---- f--- o---- s------, p----- i---------y t---- of l------. H------, n-- a f-- s-------- p----- i- i- p------ th-- o---- s------ h--- s--- l-------l--- s------s as w---. I- f---, a h--- of s------ h--- b--- c------ed a---- t---- l----.</div>
    <div class="full" id="full-4">When asked what sets us apart from other species, people immediately think of language. However, not a few scientists presume it is possible that other species have some language-like systems as well. In fact, a host of studies have been conducted along these lines.</div>
  </div>

  <!-- 戻るボタン (ページ下部にも配置) -->
  <a class="nav-back" href="index.html">← ホームへ戻る</a>

  <script>
    // カードの枚数に合わせて配列を定義
    const states = [0, 0, 0, 0, 0];

    function cycleState(index) {
      states[index] = (states[index] + 1) % 3;
      const hintElem = document.getElementById(`hint-${index}`);
      const fullElem = document.getElementById(`full-${index}`);

      if (states[index] === 0) {
        hintElem.style.display = 'none';
        fullElem.style.display = 'none';
      } else if (states[index] === 1) {
        hintElem.style.display = 'block';
        fullElem.style.display = 'none';
      } else if (states[index] === 2) {
        hintElem.style.display = 'none';
        fullElem.style.display = 'block';
      }
    }

    // PWA: Service Worker 登録
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('service-worker.js')
          .then(function(registration) {
            console.log('Service Worker registered with scope:', registration.scope);
          })
          .catch(function(error) {
            console.log('Service Worker registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>
