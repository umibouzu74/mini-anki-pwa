<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Mini Anki Deluxe - 021~025</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- PWA用マニフェストファイル -->
  <link rel="manifest" href="manifest.json">

  <style>
    body {
      background: #2b2b2b;
      color: #f0f0f0;
      font-family: sans-serif;
      line-height: 1.6;
      margin: 2em;
      transition: background 0.3s, color 0.3s;
    }
    h1 {
      text-align: center;
      color: #ff6b6b;
    }
    p {
      text-align: center;
      margin-bottom: 2em;
    }
    .card-container {
      max-width: 700px;
      margin: 0 auto 2em;
      border: 1px solid #444;
      border-radius: 6px;
      padding: 1em 1.5em;
      box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);
      background: #3a3a3a;
      cursor: pointer;
      transition: background 0.3s;
    }
    .card-number {
      font-weight: bold;
      font-size: 1.1em;
      color: #ff6b6b;
      margin-bottom: 0.3em;
    }
    .jp-text {
      margin-bottom: 0.8em;
      color: #f9f9f9;
    }
    .hint {
      color: #cccccc;
      display: none;
      margin-bottom: 0.8em;
    }
    .full {
      font-weight: bold;
      color: #ffffff;
      display: none;
      white-space: pre-wrap;
    }
    .card-container:hover {
      background-color: #4a4a4a;
    }
    .card-container:active {
      background-color: #555;
    }
    /* 戻るボタン */
    .nav-back {
      display: block;
      text-align: center;
      margin: 2em auto;
      color: #ff6b6b;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Cards 021 - 025</h1>
  <p>カードをタップすると「ヒント → 完全文 → 最初に戻る」と状態が変わります。</p>

  <!-- 戻るボタン -->
  <a class="nav-back" href="index.html">← ホームへ戻る</a>

  <!-- 021 -->
  <div class="card-container" onclick="cycleState(0)">
    <div class="card-number">021</div>
    <div class="jp-text">彼女が用もなく毎日電話をかけてきたっていうのは誇張でもなんでもない。</div>
    <div class="hint" id="hint-0">It i- n- e----------n to s-- th-- s-- c----- me f-- n------ -n a d---- b----.</div>
    <div class="full" id="full-0">It is no exaggeration to say that she called me for nothing on a daily basis.</div>
  </div>
  <!-- 022 -->
  <div class="card-container" onclick="cycleState(1)">
    <div class="card-number">022</div>
    <div class="jp-text">X、つまり以前の Twitter は、4億強のアクティブユーザー数を誇る。さらにその人気はいまだに高まるばかりだ。</div>
    <div class="hint" id="hint-1">X, or Twitter, as i- w-- p--------y k---n, h-- a l---- m--- th-- 400 m-----n a----e u---s. W---’s m---, i-- p--------y i- s---- -n the r---.</div>
    <div class="full" id="full-1">X, or Twitter, as it was previously known, has a little more than 400 million active users. What's more, its popularity is still on the rise.</div>
  </div>
  <!-- 023 -->
  <div class="card-container" onclick="cycleState(2)">
    <div class="card-number">023</div>
    <div class="jp-text">その小説の映画版を見た人なら誰でも言うだろうが、本とあまりに違い過ぎてタイトルが違うのではないかと思ってしまう。</div>
    <div class="hint" id="hint-2">A-----e w-- s-- the m---- a--------n o- the n---- w--- t--- y-- th-- i- w-- s- d--------t f--- the b--- th-- i- m---- a- w--- n-- h--- h-- the s--- t----.</div>
    <div class="full" id="full-2">Anyone who saw the movie adaptation of the novel will tell you that it was so different from the book that it might as well not have had the same title.</div>
  </div>
  <!-- 024 -->
  <div class="card-container" onclick="cycleState(3)">
    <div class="card-number">024</div>
    <div class="jp-text">Jenniferは32歳で夫を癌で亡くした。こんな経験をするにはあまりにも若過ぎた。夫を失ったことは耐え難く、だからキャリア真っ盛りだったが、仕事を辞めて田舎に帰った。</div>
    <div class="hint" id="hint-3">Jennifer l--- h-- h------ t- c----r a- a-- 32, w---- i- t-- y---- b- a-- s------. H-- l--- w-- t-- m--- t- b---, s-, th---- s-- w-- i- the p---- o- h-- c-----, s-- q--- h-- j-- a-- w--- b--- t- h-- h------n.</div>
    <div class="full" id="full-3">Jennifer lost her husband to cancer at age 32, which is too young by any standard. Her loss was too much to bear, so, though she was in the prime of her career, she quit her job and went back to her hometown.</div>
  </div>
  <!-- 025 -->
  <div class="card-container" onclick="cycleState(4)">
    <div class="card-number">025</div>
    <div class="jp-text">今から考えると、Fredは最初からクラブを支配するつもりだったのかもしれない。それが、彼が 私たちに加わった唯一の動機だったのかもしれない。</div>
    <div class="hint" id="hint-4">L------ b---, i- s---- Fred m-- h--- b--- d----------d t- e------e c------ o--- the c--- f--- the b--------g. T--- m---- h--- b--- h-- s--- m----------n f-- j------ us.</div>
    <div class="full" id="full-4">Looking back, it seems Fred may have been determined to exercise control over the club from the beginning. This might have been his sole motivation for joining us.</div>
  </div>

  <!-- 戻るボタン (ページ下部にも配置) -->
  <a class="nav-back" href="index.html">← ホームへ戻る</a>

  <script>
    // カードの枚数に合わせて配列を定義
    const states = [0, 0, 0, 0, 0];

    function cycleState(index) {
      states[index] = (states[index] + 1) % 3;
      const hintElem = document.getElementById(`hint-${index}`);
      const fullElem = document.getElementById(`full-${index}`);

      if (states[index] === 0) {
        hintElem.style.display = 'none';
        fullElem.style.display = 'none';
      } else if (states[index] === 1) {
        hintElem.style.display = 'block';
        fullElem.style.display = 'none';
      } else if (states[index] === 2) {
        hintElem.style.display = 'none';
        fullElem.style.display = 'block';
      }
    }

    // PWA: Service Worker 登録
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('service-worker.js')
          .then(function(registration) {
            console.log('Service Worker registered with scope:', registration.scope);
          })
          .catch(function(error) {
            console.log('Service Worker registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>
